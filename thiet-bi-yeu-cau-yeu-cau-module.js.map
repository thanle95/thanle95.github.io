{"version":3,"sources":["./src/app/clients/pages/main/thiet-bi/yeu-cau/yeu-cau.component.ts","./src/app/clients/pages/main/thiet-bi/yeu-cau/yeu-cau.component.html","./src/app/clients/pages/main/thiet-bi/yeu-cau/yeu-cau.module.ts","./src/app/clients/pages/main/thiet-bi/yeu-cau/yeu-cau.service.ts"],"names":[],"mappings":"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","file":"thiet-bi-yeu-cau-yeu-cau-module.js","sourcesContent":["import { Component, OnInit, ViewChild } from '@angular/core';\nimport { MatDialog } from '@angular/material/dialog';\nimport { MatPaginator } from '@angular/material/paginator';\nimport { MatSnackBar } from '@angular/material/snack-bar';\nimport { MatSort } from '@angular/material/sort';\nimport { MatTableDataSource } from '@angular/material/table';\nimport { Router } from '@angular/router';\nimport { HuyYeuCauComponent } from 'src/app/shared/pages/huy-yeu-cau-muon-thiet-bi/huy-yeu-cau.component';\nimport { environment, eMenuClient } from 'src/environments/environment';\nimport { LichSuDatChoModel } from '../../../../../shared/models/lich-su-dat-cho.model';\nimport { MuonThietBiReqModel } from '../../../../../shared/models/lich-su-muon-thiet-bi.model';\nimport { AlertDialogComponent } from '../../../../../shared/pages/alert-dialog/alert-dialog.component';\nimport { MainNavComponent } from '../../main.component';\nimport { YeuCauSuDungPTNService } from './yeu-cau.service';\n\n@Component({\n  selector: 'app-yeu-cau',\n  templateUrl: './yeu-cau.component.html',\n  styleUrls: ['./yeu-cau.component.scss'],\n})\nexport class YeuCauSuDungPTNComponent implements OnInit {\n  _length = 0;\n  displayedColumns: string[] = [\n    'MaDatCho',\n    'MaThietBiChiTiet',\n    'TenThietBi',\n    'TenGiaoVien',\n    'NgayHetHan',\n    'NgayBatDau',\n    'NgayKetThuc',\n    'IsCancel',\n    'TenNguoiHuy',\n    'NgayHuy',\n    'LyDoHuy',\n    'actions',\n  ];\n\n  @ViewChild(MatPaginator) paginator: MatPaginator;\n  @ViewChild(MatSort, { static: true }) sort: MatSort;\n  constructor(\n    public dialog: MatDialog,\n    private __service: YeuCauSuDungPTNService,\n    private __router: Router,\n    private __snackbar: MatSnackBar,\n    private __mainComponent: MainNavComponent\n  ) {\n    localStorage.setItem(\n      environment.key_storage.MENU.CLIENT,\n      eMenuClient[eMenuClient.YEU_CAU_SU_DUNG_THIET_BI]\n    );\n    this.__mainComponent.__localStorage = localStorage.getItem(\n      environment.key_storage.MENU.CLIENT\n    );\n  }\n\n  _lichSuDatChoes: LichSuDatChoModel[] = [];\n  dataSource: MatTableDataSource<LichSuDatChoModel>;\n  showProgressBar = true;\n  __today = new Date().getTime();\n  ngOnInit(): void {\n    this.getDataLichSuDatCho();\n  }\n\n  private getDataLichSuDatCho() {\n    this.showProgressBar = true;\n    this.__service.getAllLichSuDatChoes().subscribe(\n      (data) => {\n        this.showProgressBar = false;\n        if(data.Message){\n          this.__snackbar.open(data.Message, null, {\n            duration: 2000,\n          });\n          return\n        }\n        this._lichSuDatChoes = data;\n        if (this._lichSuDatChoes.length == 0) {\n          this.__snackbar.open('Không có yêu cầu', null, {\n            duration: 3000,\n          });\n        }\n        this._lichSuDatChoes.forEach((f) => {\n          f.NgayBatDauDate = new Date(f.NgayBatDau);\n          f.NgayKetThucDate = new Date(f.NgayKetThuc);\n          f.NgayHetHanDate = new Date(f.NgayHetHan);\n          if (f.NgayHuy) f.NgayHuyDate = new Date(f.NgayHuy);\n          f.IsCancel = f.NguoiHuy != null;\n        });\n        this.dataSource = new MatTableDataSource(this._lichSuDatChoes);\n\n        this._length = this.dataSource.data.length;\n        this.dataSource.paginator = this.paginator;\n        this.dataSource.sort = this.sort;\n        this.dataSource.filterPredicate = (\n          data: LichSuDatChoModel,\n          filter: string\n        ) =>\n          data.TenThietBi.toLocaleLowerCase().indexOf(filter) != -1 ||\n          data.TenNguoiHoc.toLocaleLowerCase().indexOf(filter) != -1;\n\n        \n      },\n      (error) => {\n        this.showProgressBar = false;\n        this.showLogin();\n        this.__snackbar.open(environment.message.TOKEN_EXPIRED, null, {\n          duration: 2000,\n        });\n      }\n    );\n  }\n  showLogin() {\n    this.__router.navigate(['login']);\n  }\n\n  applyFilter(filterValue: string) {\n    filterValue = filterValue.trim(); // Remove whitespace\n    filterValue = filterValue.toLowerCase(); // Datasource defaults to lowercase matches\n    this.dataSource.filter = filterValue;\n  }\n\n  cancel(yeuCau: LichSuDatChoModel) {\n    const confirmDialogRef = this.dialog.open(HuyYeuCauComponent, {\n      disableClose: true,\n      width: '40rem',\n      data: {\n        yeuCau: yeuCau,\n        isClient: true\n      },\n    });\n    confirmDialogRef.afterClosed().subscribe((res) => {\n      if (res.result) {\n        this.getDataLichSuDatCho();\n      }\n    });\n  }\n\n  onSearchChange(searchText: String) {\n    this.dataSource.filter = searchText.trim().toLowerCase();\n  }\n}\n","<mat-progress-bar\n  mode=\"indeterminate\"\n  [style.display]=\"showProgressBar ? 'block' : 'none'\"\n>\n</mat-progress-bar>\n<div id=\"div-main\" >\n  <div id=\"div-top\">\n    <h2>Danh sách yêu cầu</h2>\n\n    <mat-form-field id=\"form-search\" appearance=\"standard\">\n      <mat-label>Tìm kiếm</mat-label>\n      <input\n        matInput\n        placeholder=\"Nhập thông tin cần tìm kiếm\"\n        (input)=\"onSearchChange($event.target.value)\"\n      />\n      <mat-icon matSuffix>search</mat-icon>\n    </mat-form-field>\n  </div>\n  <mat-paginator\n    [length]=\"_length\"\n    pageSize=\"10\"\n    [pageSizeOptions]=\"[5, 10, 20, 30]\"\n    showFirstLastButtons=\"true\"\n  >\n  </mat-paginator>\n  <div id=\"div-table\">\n    <table mat-table [dataSource]=\"dataSource\" class=\"mat-elevation-z8\" matSort>\n      <!--- Note that these columns can be defined in any order.\n              The actual rendered columns are set as a property on the row definition\" -->\n\n      <!-- Position Column -->\n      <ng-container matColumnDef=\"MaDatCho\">\n        <th mat-header-cell *matHeaderCellDef mat-sort-header>Mã yêu cầu</th>\n        <td mat-cell *matCellDef=\"let row\">{{ row.MaDatCho }}</td>\n      </ng-container>\n      <ng-container matColumnDef=\"MaThietBiChiTiet\">\n        <th mat-header-cell *matHeaderCellDef mat-sort-header>Mã thiết bị</th>\n        <td mat-cell *matCellDef=\"let row\">{{ row.MaThietBi + row.MaThietBiChiTiet }}</td>\n      </ng-container>\n\n      <!-- Weight Column -->\n      <ng-container matColumnDef=\"TenThietBi\">\n        <th mat-header-cell *matHeaderCellDef mat-sort-header>Tên thiết bị</th>\n        <td mat-cell *matCellDef=\"let row\">{{ row.TenThietBi }}</td>\n      </ng-container>\n\n      <!-- Symbol Column -->\n      <ng-container matColumnDef=\"TenGiaoVien\">\n        <th mat-header-cell *matHeaderCellDef mat-sort-header>Tên giáo viên</th>\n        <td mat-cell *matCellDef=\"let row\">\n          {{ row.TenGiaoVien }}\n        </td>\n      </ng-container>\n\n      <ng-container matColumnDef=\"NgayHetHan\">\n        <th mat-header-cell *matHeaderCellDef mat-sort-header>Ngày hết hạn</th>\n        <td mat-cell *matCellDef=\"let row\">\n          {{ row.NgayHetHan | date: \"HH:mm:ss\" }}\n          {{ row.NgayHetHanDate.getDate() | number: \"2.0\" }}/Thg{{\n            row.NgayHetHanDate.getMonth() + 1 | number: \"2.0\"\n          }}/{{ row.NgayHetHanDate.getFullYear() }}\n        </td>\n      </ng-container>\n      <ng-container matColumnDef=\"NgayBatDau\">\n        <th mat-header-cell *matHeaderCellDef mat-sort-header>Ngày bắt đầu</th>\n        <td mat-cell *matCellDef=\"let row\">\n          {{ row.NgayBatDauDate.getDate() | number: \"2.0\" }}/Thg{{\n            row.NgayBatDauDate.getMonth() + 1 | number: \"2.0\"\n          }}/{{ row.NgayBatDauDate.getFullYear() }}\n        </td>\n      </ng-container>\n      <ng-container matColumnDef=\"NgayKetThuc\">\n        <th mat-header-cell *matHeaderCellDef mat-sort-header>Ngày kết thúc</th>\n        <td mat-cell *matCellDef=\"let row\">\n          {{ row.NgayKetThucDate.getDate() | number: \"2.0\" }}/Thg{{\n            row.NgayKetThucDate.getMonth() + 1 | number: \"2.0\"\n          }}/{{ row.NgayKetThucDate.getFullYear() }}\n        </td>\n      </ng-container>\n      <ng-container matColumnDef=\"IsCancel\">\n        <th mat-header-cell *matHeaderCellDef mat-sort-header>Trạng thái</th>\n        <td mat-cell *matCellDef=\"let row\">\n          {{ row.IsCancel ? \"Đã hủy\" : row.NgayHetHanDate.getTime() <= this.__today? \"Hết hạn\": \"\" }}\n        </td>\n      </ng-container>\n      <ng-container matColumnDef=\"TenNguoiHuy\">\n        <th mat-header-cell *matHeaderCellDef mat-sort-header>Người hủy</th>\n        <td mat-cell *matCellDef=\"let row\">\n          {{ row.TenNguoiHuy }}\n        </td>\n      </ng-container>\n      <ng-container matColumnDef=\"NgayHuy\">\n        <th mat-header-cell *matHeaderCellDef mat-sort-header>Ngày hủy</th>\n        <td mat-cell *matCellDef=\"let row\">\n          <div *ngIf=\"row.NgayHuy\">\n            {{ row.NgayHuyDate.getDate() | number: \"2.0\" }}/Thg{{\n              row.NgayHuyDate.getMonth() + 1 | number: \"2.0\"\n            }}/{{ row.NgayHuyDate.getFullYear() }}\n          </div>\n        </td>\n      </ng-container>\n      <ng-container matColumnDef=\"LyDoHuy\">\n        <th mat-header-cell *matHeaderCellDef mat-sort-header>Lý do hủy</th>\n        <td mat-cell *matCellDef=\"let row\">\n          {{ row.LyDoHuy }}\n        </td>\n      </ng-container>\n      <ng-container matColumnDef=\"actions\">\n        <th mat-header-cell *matHeaderCellDef></th>\n        <td mat-cell *matCellDef=\"let row\">\n          <div *ngIf=\"!(row.IsCancel == true || row.NgayHetHanDate.getTime() <= this.__today)\">\n          <button mat-raised-button color=\"warn\" (click)=\"cancel(row)\">\n            Hủy\n          </button>\n          </div>\n        </td>\n      </ng-container>\n\n      <tr mat-header-row *matHeaderRowDef=\"displayedColumns\"></tr>\n      <tr mat-row  [ngClass]=\"{ 'make-gold': row.IsCancel == true || row.NgayHetHanDate.getTime() <= this.__today }\" *matRowDef=\"let row; columns: displayedColumns\"></tr>\n    </table>\n  </div>\n</div>\n","import { CommonModule } from '@angular/common';\r\nimport { NgModule } from '@angular/core';\r\nimport { MatButtonModule } from '@angular/material/button';\r\nimport { MatCardModule } from '@angular/material/card';\r\nimport { MatFormFieldModule } from '@angular/material/form-field';\r\nimport { MatProgressBarModule } from '@angular/material/progress-bar';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\nimport { MatIconModule } from '@angular/material/icon';\r\nimport { MatPaginatorModule } from '@angular/material/paginator';\r\nimport { MatTableModule } from '@angular/material/table';\r\nimport { RouterModule } from '@angular/router';\r\nimport { MatDialogModule } from '@angular/material/dialog';\r\nimport { MatDatepickerModule } from '@angular/material/datepicker';\r\nimport { MatInputModule } from '@angular/material/input';\r\nimport { MatSortModule } from '@angular/material/sort';\r\nimport { YeuCauSuDungPTNComponent } from './yeu-cau.component';\r\n\r\n@NgModule({\r\n    imports: [ RouterModule.forChild([\r\n        { path: '', component: YeuCauSuDungPTNComponent },\r\n      ]),\r\n      CommonModule,\r\n      MatProgressBarModule,\r\n      MatCardModule,\r\n      MatFormFieldModule,\r\n      FormsModule,\r\n      MatButtonModule,\r\n      MatIconModule,\r\n      MatPaginatorModule,\r\n      MatDialogModule,\r\n      MatDatepickerModule,\r\n      MatTableModule,\r\n      MatInputModule,\r\n      MatSortModule,\r\n      ReactiveFormsModule,],\r\n    declarations: [YeuCauSuDungPTNComponent],\r\n})\r\nexport class YeuCauModule { }\r\n","import { Injectable } from '@angular/core';\r\nimport { Observable } from 'rxjs';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { environment } from '../../../../../../environments/environment';\r\nimport { LichSuDatChoModel } from 'src/app/shared/models/lich-su-dat-cho.model';\r\n@Injectable({ providedIn: 'root' })\r\nexport class YeuCauSuDungPTNService {\r\n  constructor(private httpClient: HttpClient) {}\r\n  getAllLichSuDatChoes(): Observable<any> {\r\n    let url = environment.api.url + 'LichSuDatCho/getAll';\r\n    return this.httpClient.get(url);\r\n  }\r\n  cancelDatCho(input: LichSuDatChoModel): Observable<any> {\r\n    let url =\r\n      environment.api.url + 'LichSuDatCho/huyYeuCau';\r\n    return this.httpClient.post(url, input);\r\n  }\r\n \r\n}\r\n"],"sourceRoot":"webpack:///"}