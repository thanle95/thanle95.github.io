{"version":3,"sources":["./src/app/admin/pages/home/login/login.module.ts","./src/app/admin/pages/home/login/login.service.ts","./src/app/admin/pages/home/login/login.component.ts","./src/app/admin/pages/home/login/login.component.html"],"names":[],"mappings":"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","file":"login-login-module.js","sourcesContent":["import { CommonModule } from '@angular/common';\r\nimport { NgModule } from '@angular/core';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { MatButtonModule } from '@angular/material/button';\r\nimport { MatCardModule } from '@angular/material/card';\r\nimport { MatFormFieldModule } from '@angular/material/form-field';\r\nimport { MatInputModule } from '@angular/material/input';\r\nimport { MatProgressBarModule } from '@angular/material/progress-bar';\r\nimport { RouterModule, Routes } from '@angular/router';\r\nimport { HomeAdminHeaderModule } from '../home-admin-header/home-admin-header.module';\r\nimport { LoginAdminComponent } from './login.component';\r\n\r\nconst routes: Routes = [\r\n  { path: '', component: LoginAdminComponent },\r\n  {\r\n    path: 'forgot-password',\r\n    loadChildren: () =>\r\n      import('./forgot-password/forgot-password.module').then(\r\n        (m) => m.ForgotPasswordAdminModule\r\n      ),\r\n  },\r\n];\r\n@NgModule({\r\n  declarations: [LoginAdminComponent],\r\n  imports: [\r\n    HomeAdminHeaderModule,\r\n    CommonModule,\r\n    RouterModule.forChild(routes),\r\n    MatProgressBarModule,\r\n    MatCardModule,\r\n    MatFormFieldModule,\r\n    FormsModule,\r\n    MatInputModule,\r\n    MatButtonModule\r\n  ],\r\n})\r\nexport class LoginAdminModule {}\r\n","import { Injectable } from '@angular/core';\r\nimport { Observable } from 'rxjs';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { environment } from 'src/environments/environment';\r\nimport { AccountModel } from '../../../../shared/models/account.model';\r\n@Injectable({ providedIn: 'root' })\r\nexport class LoginService {\r\n  constructor(private httpClient: HttpClient) {}\r\n  login(account: AccountModel): Observable<any> {\r\n    let url = environment.api.url + 'Account/login';\r\n    return this.httpClient.post(url, account);\r\n  }\r\n}\r\n","import { Component, OnInit, OnDestroy } from '@angular/core';\r\nimport { Router } from '@angular/router'\r\nimport { LoginService } from './login.service'\r\nimport { AccountModel } from 'src/app/shared/models/account.model';\r\nimport { environment } from 'src/environments/environment';\r\nimport { MatSnackBar } from '@angular/material/snack-bar';\r\n@Component({\r\n  selector: 'app-login',\r\n  templateUrl: './login.component.html',\r\n  styleUrls: ['./login.component.scss']\r\n})\r\nexport class LoginAdminComponent implements OnInit, OnDestroy {\r\n  username: string;\r\n  password: string;\r\n  isLoging = false;\r\n  showProgressBar = false;\r\n  constructor(private _router: Router,\r\n    private __service: LoginService,\r\n    private __snackbar: MatSnackBar) { }\r\n\r\n  ngOnInit() {\r\n    localStorage.removeItem(environment.key_storage.TOKEN.ADMIN)\r\n  }\r\n  ngOnDestroy() {\r\n    this._router.navigate([\"admin\",\"i\"])\r\n  }\r\n  login() {\r\n    this.showProgressBar = true\r\n    this.__service.login(new AccountModel(this.username, this.password))\r\n      .subscribe(\r\n        data => {\r\n          this.showProgressBar = false\r\n          if(data.Role.toString().toUpperCase() != environment.roleIdSinhVien){\r\n          localStorage.setItem(environment.key_storage.TOKEN.ADMIN, data.Token)\r\n          localStorage.setItem(environment.key_storage.DISPLAY_NAME.ADMIN, data.Displayname)\r\n          localStorage.setItem(environment.key_storage.ROLE_ID.ADMIN, data.Role.toString().toUpperCase())\r\n          this.ngOnDestroy()\r\n\r\n          }\r\n          else{\r\n\r\n            this.__snackbar.open(\"Tài khoản của bạn không có quyền truy cập\", null, {\r\n              duration: 2000,\r\n            });\r\n          }\r\n         \r\n        },\r\n        (error) => {\r\n          //Khả năng là do trùng mã (không hiển thị)\r\n          localStorage.removeItem(environment.key_storage.TOKEN.ADMIN)\r\n          \r\n          this.showProgressBar = false\r\n          \r\n          this.__snackbar.open('Tài khoản hoặc mật khẩu không đúng', null, {\r\n                duration: 2000,\r\n              });\r\n             \r\n        }\r\n      )\r\n\r\n  }\r\n}\r\n","<mat-progress-bar\r\n  mode=\"indeterminate\"\r\n  [style.display]=\"showProgressBar ? 'block' : 'none'\"\r\n></mat-progress-bar>\r\n<div class=\"main-container\">\r\n  <div class=\"content\">\r\n    <app-home-admin-header></app-home-admin-header>\r\n    \r\n    <mat-card class=\"example-card\">\r\n      <mat-card-header>\r\n        <mat-card-title>Đăng nhập</mat-card-title>\r\n      </mat-card-header>\r\n      <mat-card-content>\r\n        <!--  chung form để có thể dùng tab -->\r\n        <form>\r\n          <mat-form-field class=\"example-full-width\">\r\n            <input\r\n              matInput\r\n              placeholder=\"Tên đăng nhập\"\r\n              [(ngModel)]=\"username\"\r\n              name=\"username\"\r\n              required\r\n            />\r\n          </mat-form-field>\r\n          <mat-form-field class=\"example-full-width\">\r\n            <input\r\n              matInput\r\n              placeholder=\"Mật khẩu\"\r\n              [(ngModel)]=\"password\"\r\n              type=\"password\"\r\n              name=\"password\"\r\n              (keyup.enter)=\"login()\"\r\n              required\r\n            />\r\n          </mat-form-field>\r\n        </form>\r\n      </mat-card-content>\r\n      <mat-card-actions>\r\n        <button mat-raised-button [routerLink]=\"['forgot-password']\" color=\"primary\">\r\n          Quên mật khẩu\r\n        </button>\r\n        <button mat-raised-button (click)=\"login()\" color=\"primary\">\r\n          Đăng nhập\r\n        </button>\r\n      </mat-card-actions>\r\n    </mat-card>\r\n  </div>\r\n</div>\r\n"],"sourceRoot":"webpack:///"}