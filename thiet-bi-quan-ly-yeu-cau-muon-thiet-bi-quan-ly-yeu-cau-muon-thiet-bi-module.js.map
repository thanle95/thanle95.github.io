{"version":3,"sources":["./src/app/admin/pages/main-nav/thiet-bi/quan-ly-yeu-cau-muon-thiet-bi/quan-ly-yeu-cau-muon-thiet-bi.component.ts","./src/app/admin/pages/main-nav/thiet-bi/quan-ly-yeu-cau-muon-thiet-bi/quan-ly-yeu-cau-muon-thiet-bi.component.html","./src/app/admin/pages/main-nav/thiet-bi/quan-ly-yeu-cau-muon-thiet-bi/duyet-yeu-cau/duyet-yeu-cau.component.ts","./src/app/admin/pages/main-nav/thiet-bi/quan-ly-yeu-cau-muon-thiet-bi/duyet-yeu-cau/duyet-yeu-cau.component.html","./src/app/admin/pages/main-nav/thiet-bi/quan-ly-yeu-cau-muon-thiet-bi/quan-ly-yeu-cau-muon-thiet-bi.service.ts","./src/app/admin/pages/main-nav/thiet-bi/quan-ly-yeu-cau-muon-thiet-bi/quan-ly-yeu-cau-muon-thiet-bi.module.ts","./src/app/admin/pages/main-nav/thiet-bi/quan-ly-yeu-cau-muon-thiet-bi/duyet-yeu-cau/duyet-yeu-cau.service.ts","./src/app/shared/models/lich-su-muon-thiet-bi.model.ts"],"names":[],"mappings":"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","file":"thiet-bi-quan-ly-yeu-cau-muon-thiet-bi-quan-ly-yeu-cau-muon-thiet-bi-module.js","sourcesContent":["import { Component, OnInit, ViewChild } from '@angular/core';\r\nimport { MatDialog } from '@angular/material/dialog';\r\nimport { DuyetYeuCauComponent } from './duyet-yeu-cau/duyet-yeu-cau.component';\r\nimport { LichSuDatChoModel } from '../../../../../shared/models/lich-su-dat-cho.model';\r\nimport { MatTableDataSource } from '@angular/material/table';\r\nimport { MatSort } from '@angular/material/sort';\r\nimport { MatPaginator } from '@angular/material/paginator';\r\nimport { YeuCauMuonThietBiService } from './quan-ly-yeu-cau-muon-thiet-bi.service';\r\nimport { AlertDialogComponent } from '../../../../../shared/pages/alert-dialog/alert-dialog.component';\r\nimport { MatSnackBar } from '@angular/material/snack-bar';\r\nimport { MuonThietBiReqModel } from '../../../../../shared/models/lich-su-muon-thiet-bi.model';\r\nimport { HuyYeuCauComponent } from 'src/app/shared/pages/huy-yeu-cau-muon-thiet-bi/huy-yeu-cau.component';\r\nimport { environment, eMenuAdmin } from 'src/environments/environment';\r\nimport { MainAdminComponent } from '../../main-nav.component';\r\nimport { Router } from '@angular/router';\r\n@Component({\r\n  selector: 'app-yeu-cau-muon-thiet-bi',\r\n  templateUrl: './quan-ly-yeu-cau-muon-thiet-bi.component.html',\r\n  styleUrls: ['./quan-ly-yeu-cau-muon-thiet-bi.component.scss'],\r\n})\r\nexport class QuanLyYeuCauMuonThietBiComponent implements OnInit {\r\n  _length = 0;\r\n  displayedColumns: string[] = [\r\n    'MaDatCho',\r\n    'MaThietBiChiTiet',\r\n    'TenNguoiHoc',\r\n    'TenThietBi',\r\n    'TenGiaoVien',\r\n    'NgayHetHan',\r\n    'NgayBatDau',\r\n    'NgayKetThuc',\r\n    'IsCancel',\r\n    'TenNguoiHuy',\r\n    'NgayHuy',\r\n    'LyDoHuy',\r\n    'actions',\r\n  ];\r\n\r\n  @ViewChild(MatPaginator) paginator: MatPaginator;\r\n  @ViewChild(MatSort, { static: true }) sort: MatSort;\r\n  constructor(\r\n    public dialog: MatDialog,\r\n    private __service: YeuCauMuonThietBiService,\r\n    private __snackbar: MatSnackBar,\r\n    private __router: Router,\r\n    private __mainComponent: MainAdminComponent\r\n  ) {\r\n    localStorage.setItem(\r\n      environment.key_storage.MENU.ADMIN,\r\n      eMenuAdmin[eMenuAdmin.YEU_CAU_SU_DUNG_THIET_BI]\r\n    );\r\n    this.__mainComponent.__localStorage = localStorage.getItem(\r\n      environment.key_storage.MENU.ADMIN\r\n    );\r\n  }\r\n\r\n  _lichSuDatChoes: LichSuDatChoModel[] = [];\r\n  dataSource: MatTableDataSource<LichSuDatChoModel>;\r\n  showProgressBar = true;\r\n  __today = (new Date()).getTime()\r\n  ngOnInit(): void {\r\n    this.getDataLichSuDatCho();\r\n  }\r\n\r\n  private getDataLichSuDatCho() {\r\n    this.showProgressBar = true;\r\n    this.__service.getAllLichSuDatChoes().subscribe(\r\n      (data) => {\r\n        this.showProgressBar = false;\r\n        if(data.Message){\r\n          this.__snackbar.open(data.Message, null, {\r\n            duration: 2000,\r\n          });\r\n          return\r\n        }\r\n        this._lichSuDatChoes = data;\r\n        if (this._lichSuDatChoes.length == 0) {\r\n          this.__snackbar.open('Không có yêu cầu', null, {\r\n            duration: 3000,\r\n          });\r\n        }\r\n        this._lichSuDatChoes.forEach((f) => {\r\n          \r\n          f.NgayBatDauDate = new Date(f.NgayBatDau);\r\n          f.NgayKetThucDate = new Date(f.NgayKetThuc);\r\n          f.NgayHetHanDate = new Date(f.NgayHetHan);\r\n          if (f.NgayHuy) f.NgayHuyDate = new Date(f.NgayHuy);\r\n          f.IsCancel = f.NguoiHuy != null;\r\n        });\r\n        this.dataSource = new MatTableDataSource(this._lichSuDatChoes);\r\n\r\n        this._length = this.dataSource.data.length;\r\n        this.dataSource.paginator = this.paginator;\r\n        this.dataSource.sort = this.sort;\r\n        this.dataSource.filterPredicate = (\r\n          data: LichSuDatChoModel,\r\n          filter: string\r\n        ) =>\r\n          data.TenThietBi.toLocaleLowerCase().indexOf(filter) != -1 ||\r\n          data.TenNguoiHoc.toLocaleLowerCase().indexOf(filter) != -1;\r\n      },\r\n      (error) => {\r\n        this.showProgressBar = false;\r\n        this.showLogin();\r\n        this.__snackbar.open(environment.message.TOKEN_EXPIRED, null, {\r\n          duration: 2000,\r\n        });\r\n      }\r\n    );\r\n  }\r\n  showLogin() {\r\n    this.__router.navigate(['admin/login']);\r\n  }\r\n  applyFilter(filterValue: string) {\r\n    filterValue = filterValue.trim(); // Remove whitespace\r\n    filterValue = filterValue.toLowerCase(); // Datasource defaults to lowercase matches\r\n    this.dataSource.filter = filterValue;\r\n  }\r\n\r\n  approve(yeuCau: LichSuDatChoModel) {\r\n    var muonThietBi = new MuonThietBiReqModel(yeuCau);\r\n    const confirmDialogRef = this.dialog.open(DuyetYeuCauComponent, {\r\n      disableClose: true,\r\n      width: '40rem',\r\n      data: {\r\n        muonThietBi: muonThietBi,\r\n        yeuCau: yeuCau,\r\n      },\r\n    });\r\n    confirmDialogRef.afterClosed().subscribe((res) => {\r\n      if (res.result) {\r\n        this.getDataLichSuDatCho();\r\n      }\r\n    });\r\n  }\r\n\r\n  cancel(yeuCau: LichSuDatChoModel) {\r\n    \r\n    const confirmDialogRef = this.dialog.open(HuyYeuCauComponent, {\r\n      disableClose: true,\r\n      width: '40rem',\r\n      data: {\r\n        yeuCau: yeuCau,\r\n      },\r\n    });\r\n    confirmDialogRef.afterClosed().subscribe((res) => {\r\n      if (res.result) {\r\n        this.getDataLichSuDatCho();\r\n      }\r\n    });\r\n  }\r\n\r\n  onSearchChange(searchText: String) {\r\n    this.dataSource.filter = searchText.trim().toLowerCase();\r\n  }\r\n}\r\n","<mat-progress-bar\r\n  mode=\"indeterminate\"\r\n  [style.display]=\"showProgressBar ? 'block' : 'none'\"\r\n>\r\n</mat-progress-bar>\r\n<!-- If you use \"*ngIf\" to initialy hide the table container in your template, the viewchield will be undefined -->\r\n<div id=\"div-main\" >\r\n  <div id=\"div-top\">\r\n    <h2>Danh sách yêu cầu</h2>\r\n\r\n    <mat-form-field id=\"form-search\" appearance=\"standard\">\r\n      <mat-label>Tìm kiếm</mat-label>\r\n      <input\r\n        matInput\r\n        placeholder=\"Nhập thông tin cần tìm kiếm\"\r\n        (input)=\"onSearchChange($event.target.value)\"\r\n      />\r\n      <mat-icon matSuffix>search</mat-icon>\r\n    </mat-form-field>\r\n  </div>\r\n  <mat-paginator\r\n    [length]=\"_length\"\r\n    pageSize=\"10\"\r\n    [pageSizeOptions]=\"[5, 10, 20, 30]\"\r\n    showFirstLastButtons=\"true\"\r\n  >\r\n  </mat-paginator>\r\n\r\n  \r\n  <div id=\"div-table\">\r\n    <table mat-table [dataSource]=\"dataSource\" class=\"mat-elevation-z8\" matSort>\r\n      <ng-container matColumnDef=\"MaDatCho\">\r\n        <th mat-header-cell *matHeaderCellDef mat-sort-header>Mã yêu cầu</th>\r\n        <td mat-cell *matCellDef=\"let row\">{{ row.MaDatCho }}</td>\r\n      </ng-container>\r\n      <ng-container matColumnDef=\"MaThietBiChiTiet\">\r\n        <th mat-header-cell *matHeaderCellDef mat-sort-header>Mã thiết bị</th>\r\n        <td mat-cell *matCellDef=\"let row\">\r\n          {{ row.MaThietBi + row.MaThietBiChiTiet }}\r\n        </td>\r\n      </ng-container>\r\n\r\n      <ng-container matColumnDef=\"TenNguoiHoc\">\r\n        <th mat-header-cell *matHeaderCellDef mat-sort-header>Tên người học</th>\r\n        <td mat-cell *matCellDef=\"let row\">\r\n          {{ row.TenNguoiHoc }}\r\n        </td>\r\n      </ng-container>\r\n\r\n      <ng-container matColumnDef=\"TenThietBi\">\r\n        <th mat-header-cell *matHeaderCellDef mat-sort-header>Tên thiết bị</th>\r\n        <td mat-cell *matCellDef=\"let row\">{{ row.TenThietBi }}</td>\r\n      </ng-container>\r\n\r\n      <ng-container matColumnDef=\"TenGiaoVien\">\r\n        <th mat-header-cell *matHeaderCellDef mat-sort-header>Tên giáo viên</th>\r\n        <td mat-cell *matCellDef=\"let row\">\r\n          {{ row.TenGiaoVien }}\r\n        </td>\r\n      </ng-container>\r\n\r\n      <ng-container matColumnDef=\"NgayHetHan\">\r\n        <th mat-header-cell *matHeaderCellDef mat-sort-header>Ngày hết hạn</th>\r\n        <td mat-cell *matCellDef=\"let row\">\r\n          {{ row.NgayHetHan | date: \"HH:mm:ss\" }}\r\n          {{ row.NgayHetHanDate.getDate() | number: \"2.0\" }}/Thg{{\r\n            row.NgayHetHanDate.getMonth() + 1 | number: \"2.0\"\r\n          }}/{{ row.NgayHetHanDate.getFullYear() }}\r\n        </td>\r\n      </ng-container>\r\n      <ng-container matColumnDef=\"NgayBatDau\">\r\n        <th mat-header-cell *matHeaderCellDef mat-sort-header>Ngày bắt đầu</th>\r\n        <td mat-cell *matCellDef=\"let row\">\r\n          {{ row.NgayBatDauDate.getDate() | number: \"2.0\" }}/Thg{{\r\n            row.NgayBatDauDate.getMonth() + 1 | number: \"2.0\"\r\n          }}/{{ row.NgayBatDauDate.getFullYear() }}\r\n        </td>\r\n      </ng-container>\r\n      <ng-container matColumnDef=\"NgayKetThuc\">\r\n        <th mat-header-cell *matHeaderCellDef mat-sort-header>Ngày kết thúc</th>\r\n        <td mat-cell *matCellDef=\"let row\">\r\n          {{ row.NgayKetThucDate.getDate() | number: \"2.0\" }}/Thg{{\r\n            row.NgayKetThucDate.getMonth() + 1 | number: \"2.0\"\r\n          }}/{{ row.NgayKetThucDate.getFullYear() }}\r\n        </td>\r\n      </ng-container>\r\n      <ng-container matColumnDef=\"IsCancel\">\r\n        <th mat-header-cell *matHeaderCellDef mat-sort-header>Trạng thái</th>\r\n        <td mat-cell *matCellDef=\"let row\">\r\n          {{\r\n            row.IsCancel\r\n              ? \"Đã hủy\"\r\n              : row.NgayHetHanDate.getTime() <= this.__today\r\n              ? \"Hết hạn\"\r\n              : \"\"\r\n          }}\r\n        </td>\r\n      </ng-container>\r\n      <ng-container matColumnDef=\"TenNguoiHuy\">\r\n        <th mat-header-cell *matHeaderCellDef mat-sort-header>Người hủy</th>\r\n        <td mat-cell *matCellDef=\"let row\">\r\n          {{ row.TenNguoiHuy }}\r\n        </td>\r\n      </ng-container>\r\n      <ng-container matColumnDef=\"NgayHuy\">\r\n        <th mat-header-cell *matHeaderCellDef mat-sort-header>Ngày hủy</th>\r\n        <td mat-cell *matCellDef=\"let row\">\r\n          <div *ngIf=\"row.NgayHuy\">\r\n            {{ row.NgayHuyDate.getDate() | number: \"2.0\" }}/Thg{{\r\n              row.NgayHuyDate.getMonth() + 1 | number: \"2.0\"\r\n            }}/{{ row.NgayHuyDate.getFullYear() }}\r\n          </div>\r\n        </td>\r\n      </ng-container>\r\n      <ng-container matColumnDef=\"LyDoHuy\">\r\n        <th mat-header-cell *matHeaderCellDef mat-sort-header>Lý do hủy</th>\r\n        <td mat-cell *matCellDef=\"let row\">\r\n          {{ row.LyDoHuy }}\r\n        </td>\r\n      </ng-container>\r\n      <ng-container matColumnDef=\"actions\">\r\n        <th mat-header-cell *matHeaderCellDef></th>\r\n        <td mat-cell *matCellDef=\"let row\">\r\n          <div\r\n            *ngIf=\"\r\n              !(\r\n                row.IsCancel == true ||\r\n                row.NgayHetHanDate.getTime() <= this.__today\r\n              )\r\n            \"\r\n          >\r\n            <button mat-raised-button color=\"primary\" (click)=\"approve(row)\">\r\n              Duyệt\r\n            </button>\r\n            |\r\n            <button mat-raised-button color=\"warn\" (click)=\"cancel(row)\">\r\n              Hủy\r\n            </button>\r\n          </div>\r\n        </td>\r\n      </ng-container>\r\n\r\n      <tr mat-header-row *matHeaderRowDef=\"displayedColumns\"></tr>\r\n      <tr\r\n        mat-row\r\n        [ngClass]=\"{\r\n          'make-gold':\r\n            row.IsCancel == true || row.NgayHetHanDate.getTime() <= this.__today\r\n        }\"\r\n        *matRowDef=\"let row; columns: displayedColumns\"\r\n      ></tr>\r\n    </table>\r\n  </div>\r\n</div>\r\n","import { Component, OnInit, Inject } from '@angular/core';\r\nimport { MuonThietBiReqModel } from '../../../../../../shared/models/lich-su-muon-thiet-bi.model';\r\nimport { LichSuDatChoModel } from '../../../../../../shared/models/lich-su-dat-cho.model';\r\nimport {\r\n  MatDialogRef,\r\n  MAT_DIALOG_DATA,\r\n  MatDialog,\r\n} from '@angular/material/dialog';\r\nimport { DuyetYeuCauService } from './duyet-yeu-cau.service';\r\nimport { ThietBiChiTietModel } from '../../../../../../shared/models/thiet-bi-chi-tiet.model';\r\nimport { AlertDialogComponent } from '../../../../../../shared/pages/alert-dialog/alert-dialog.component';\r\nimport { MatSnackBar } from '@angular/material/snack-bar';\r\nimport { DatePipe } from '@angular/common';\r\nimport { MatDatepickerInputEvent } from '@angular/material/datepicker';\r\nimport { FormGroup, FormControl } from '@angular/forms';\r\nimport { DateAdapter, MAT_DATE_FORMATS } from '@angular/material/core';\r\nimport {\r\n  AppDateAdapter,\r\n  APP_DATE_FORMATS,\r\n} from 'src/app/shared/tools/AppDateAdapter';\r\nimport { Router } from '@angular/router';\r\nimport { environment } from 'src/environments/environment';\r\n\r\n@Component({\r\n  selector: 'app-duyet-yeu-cau',\r\n  templateUrl: './duyet-yeu-cau.component.html',\r\n  styleUrls: ['./duyet-yeu-cau.component.scss'],\r\n  providers: [\r\n    { provide: DateAdapter, useClass: AppDateAdapter },\r\n    { provide: MAT_DATE_FORMATS, useValue: APP_DATE_FORMATS },\r\n  ],\r\n})\r\nexport class DuyetYeuCauComponent implements OnInit {\r\n  _muonThietBi: MuonThietBiReqModel;\r\n  _yeuCau = new LichSuDatChoModel();\r\n  constructor(\r\n    @Inject(MAT_DIALOG_DATA) public data: any,\r\n    public dialogMainRef: MatDialogRef<DuyetYeuCauComponent>,\r\n    private __service: DuyetYeuCauService,\r\n    public dialog: MatDialog,\r\n    private _alertDialog: MatDialog,\r\n    private __snackbar: MatSnackBar,\r\n    private __router: Router,\r\n    public datepipe: DatePipe\r\n  ) {}\r\n  _title = 'Duyệt yêu cầu';\r\n  _titleMainButton = 'Duyệt';\r\n  _thietBiChiTiet: ThietBiChiTietModel[];\r\n  _minDate = new Date();\r\n  _maxDate = new Date();\r\n  _hasValueStartDay = false;\r\n  _hasValueEndDay = false;\r\n  campaignTwo: FormGroup;\r\n  showProgressBar = true;\r\n  ngOnInit(): void {\r\n    this._maxDate.setDate(this._minDate.getDate() + 30);\r\n    if (this.data)\r\n      if (this.data.muonThietBi) {\r\n        this._muonThietBi = this.data.muonThietBi;\r\n      }\r\n    if (this.data.yeuCau) {\r\n      this._yeuCau = this.data.yeuCau;\r\n      this.campaignTwo = new FormGroup({\r\n        start: new FormControl(new Date(this._yeuCau.NgayBatDau)),\r\n        end: new FormControl(new Date(this._yeuCau.NgayKetThuc)),\r\n      });\r\n    }\r\n    this.getDataThietBiChiTiets();\r\n  }\r\n\r\n  private getDataThietBiChiTiets() {\r\n    this.showProgressBar = true;\r\n\r\n    this.__service.getThietBiChiTiet(this._yeuCau.IDThietBi).subscribe(\r\n      (data) => {\r\n        this.showProgressBar = false;\r\n        if(data.Message){\r\n          this.__snackbar.open(data.Message, null, {\r\n            duration: 2000,\r\n          });\r\n          return\r\n        }\r\n        this._thietBiChiTiet = data;\r\n      },\r\n      (error) => {\r\n        this.showProgressBar = false;\r\n      }\r\n    );\r\n  }\r\n\r\n  approve() {\r\n    if (\r\n      this._muonThietBi.NgayBatDau == '' ||\r\n      this._muonThietBi.NgayKetThuc == ''\r\n    ) {\r\n      this.__snackbar.open('Vui lòng nhập đủ thông tin', null, {\r\n        duration: 2000,\r\n      });\r\n    } else {\r\n      this.showProgressBar = true;\r\n      this.__service.addLichSuMuonThietBi(this._muonThietBi).subscribe(\r\n        (data) => {\r\n          this.showProgressBar = false;\r\n          if (data === 'true') {\r\n            this.__snackbar.open('Duyệt thành công', null, {\r\n              duration: 2000,\r\n            });\r\n            this.dialogMainRef.close({\r\n              result: true,\r\n            });\r\n          } else {\r\n            this.__snackbar.open(data, null, {\r\n              duration: 2000,\r\n            });\r\n          }\r\n        },\r\n        (error) => {\r\n          this.dialogMainRef.close({\r\n            result: false,\r\n          });\r\n          this.showLogin();\r\n          this.__snackbar.open(environment.message.TOKEN_EXPIRED, null, {\r\n            duration: 2000,\r\n          });\r\n        }\r\n      );\r\n    }\r\n  }\r\n  showLogin() {\r\n    this.__router.navigate(['admin/login']);\r\n  }\r\n  cancel() {\r\n    var dialogRef = this._alertDialog.open(AlertDialogComponent, {\r\n      disableClose: true,\r\n      width: '17rem',\r\n      data: {\r\n        dataKey: 'Thay đổi của bạn sẽ không được lưu. Bạn có muốn hủy?',\r\n        isConfirm: true,\r\n      },\r\n    });\r\n    dialogRef.afterClosed().subscribe((res) => {\r\n      if (res) {\r\n        this.dialogMainRef.close({\r\n          data: this._muonThietBi,\r\n          result: false,\r\n        });\r\n      }\r\n    });\r\n  }\r\n\r\n  addEventNgayBatDau(type: string, event: MatDatepickerInputEvent<Date>) {\r\n    this._muonThietBi.NgayBatDau = this.datepipe.transform(\r\n      event.value,\r\n      'short'\r\n    );\r\n    this._hasValueStartDay = true;\r\n  }\r\n  addEventNgayKetThuc(type: string, event: MatDatepickerInputEvent<Date>) {\r\n    this._muonThietBi.NgayKetThuc = this.datepipe.transform(\r\n      event.value,\r\n      'short'\r\n    );\r\n    this._hasValueEndDay = true;\r\n  }\r\n}\r\n","<mat-progress-bar\r\n  mode=\"indeterminate\"\r\n  [style.display]=\"showProgressBar ? 'block' : 'none'\"\r\n></mat-progress-bar>\r\n<h2 mat-dialog-title>{{ _title }}</h2>\r\n<mat-dialog-content class=\"mat-typography\">\r\n  <p>\r\n    <mat-form-field appearance=\"outline\">\r\n      <mat-label>Mã tài sản</mat-label>\r\n      <input matInput readonly [(ngModel)]=\"_yeuCau.MaThietBi + _yeuCau.MaThietBiChiTiet\" />\r\n    </mat-form-field>\r\n    <mat-form-field appearance=\"outline\">\r\n      <mat-label>Tên tài sản</mat-label>\r\n      <input matInput readonly [(ngModel)]=\"_yeuCau.TenThietBi\" />\r\n    </mat-form-field>\r\n    <mat-form-field appearance=\"outline\">\r\n      <mat-label>Tên người học</mat-label>\r\n      <input matInput readonly [(ngModel)]=\"_yeuCau.TenNguoiHoc\" />\r\n    </mat-form-field>\r\n    <mat-form-field appearance=\"outline\">\r\n      <mat-label>Tên giáo viên</mat-label>\r\n      <input matInput readonly [(ngModel)]=\"_yeuCau.TenGiaoVien\" />\r\n    </mat-form-field>\r\n\r\n    <mat-form-field appearance=\"fill\">\r\n      <mat-label>Thời gian mượn</mat-label>\r\n      <mat-date-range-input\r\n        [rangePicker]=\"picker2\"\r\n        [min]=\"_minDate\"\r\n        [max]=\"_maxDate\"\r\n        required\r\n        [comparisonStart]=\"campaignTwo.value.start\"\r\n        [comparisonEnd]=\"campaignTwo.value.end\"\r\n      >\r\n        <input\r\n          matStartDate\r\n          placeholder=\"Ngày bắt đầu\"\r\n          readonly\r\n          (dateChange)=\"addEventNgayBatDau('change', $event)\"\r\n          required\r\n        />\r\n        <input\r\n          matEndDate\r\n          placeholder=\"Ngày kết thúc\"\r\n          readonly\r\n          (dateChange)=\"addEventNgayKetThuc('change', $event)\"\r\n          required\r\n        />\r\n      </mat-date-range-input>\r\n      <mat-datepicker-toggle matSuffix [for]=\"picker2\"></mat-datepicker-toggle>\r\n      <mat-date-range-picker #picker2></mat-date-range-picker>\r\n    </mat-form-field>\r\n    <mat-form-field appearance=\"outline\">\r\n      <mat-label>Ghi chú</mat-label>\r\n      <input\r\n        matInput\r\n        placeholder=\"Nhập ghi chú\"\r\n        [(ngModel)]=\"_muonThietBi.GhiChu\"\r\n      />\r\n    </mat-form-field>\r\n    <!-- \r\n        <mat-form-field appearance=\"fill\">\r\n            <mat-label>Chọn thiết bị</mat-label>\r\n            <mat-select [(value)]=\"_muonThietBi.MaThietBiChiTiet\" required>\r\n              <mat-option *ngFor=\"let item of _thietBiChiTiet\" [value]=\"item.Ma\">{{item.Ma}} - {{item.TenThietBi}} - {{item.TenNoiQuanLy}}</mat-option>\r\n            </mat-select>\r\n          </mat-form-field> -->\r\n  </p>\r\n</mat-dialog-content>\r\n<mat-dialog-actions align=\"end\">\r\n  <button mat-raised-button color=\"primary\" (click)=\"approve()\">\r\n    {{ _titleMainButton }}\r\n  </button>\r\n  <button mat-button cdkFocusInitial (click)=\"cancel()\">Đóng</button>\r\n</mat-dialog-actions>\r\n","import { Injectable } from '@angular/core';\r\n\r\nimport { Observable } from 'rxjs';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { environment } from '../../../../../../environments/environment';\r\n@Injectable({providedIn: 'root'})\r\nexport class YeuCauMuonThietBiService {\r\n    constructor(private httpClient: HttpClient) {}\r\n    getAllLichSuDatChoes(): Observable<any> {\r\n      let url = environment.api.url + 'LichSuDatCho/getAll';\r\n      return this.httpClient.get(url);\r\n    }\r\n}","import { NgModule } from '@angular/core';\r\n\r\nimport { QuanLyYeuCauMuonThietBiComponent } from './quan-ly-yeu-cau-muon-thiet-bi.component';\r\nimport { MatButtonModule } from '@angular/material/button';\r\nimport { MatCardModule } from '@angular/material/card';\r\nimport { MatFormFieldModule } from '@angular/material/form-field';\r\nimport { MatProgressBarModule } from '@angular/material/progress-bar';\r\nimport { DuyetYeuCauComponent } from './duyet-yeu-cau/duyet-yeu-cau.component';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\nimport { MatIconModule } from '@angular/material/icon';\r\nimport { MatPaginatorModule } from '@angular/material/paginator';\r\nimport { MatTableModule } from '@angular/material/table';\r\nimport { RouterModule } from '@angular/router';\r\nimport { MatDialogModule } from '@angular/material/dialog';\r\nimport { MatDatepickerModule } from '@angular/material/datepicker';\r\nimport { MatInputModule } from '@angular/material/input';\r\nimport { MatSortModule } from '@angular/material/sort';\r\n@NgModule({\r\n  imports: [\r\n    RouterModule.forChild([\r\n      { path: '', component: QuanLyYeuCauMuonThietBiComponent },\r\n    ]),\r\n    CommonModule,\r\n    MatProgressBarModule,\r\n    MatCardModule,\r\n    MatFormFieldModule,\r\n    FormsModule,\r\n    MatButtonModule,\r\n    MatIconModule,\r\n    MatPaginatorModule,\r\n    MatDialogModule,\r\n    MatDatepickerModule,\r\n    MatTableModule,\r\n    MatInputModule,\r\n    MatSortModule,\r\n    ReactiveFormsModule,\r\n  ],\r\n  declarations: [QuanLyYeuCauMuonThietBiComponent, DuyetYeuCauComponent],\r\n  providers: [],\r\n})\r\nexport class QuanLyYeuCauMuonThietBiModule {}\r\n","import { Injectable } from '@angular/core';\r\nimport { Observable } from 'rxjs';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { environment } from '../../../../../../../environments/environment';\r\nimport { MuonThietBiReqModel } from '../../../../../../shared/models/lich-su-muon-thiet-bi.model';\r\n\r\n@Injectable({ providedIn: 'root' })\r\nexport class DuyetYeuCauService {\r\n  constructor(private httpClient: HttpClient) {}\r\n\r\n  addLichSuMuonThietBi(thietBi: MuonThietBiReqModel): Observable<any> {\r\n    let url = environment.api.url + 'LichSuMuonThietBi/add';\r\n    return this.httpClient.post(url, thietBi);\r\n  }\r\n\r\n  getThietBiChiTiet(maThietBi: string): Observable<any> {\r\n    let url = environment.api.url + 'ThietBiChiTiet/get?MaThietBi=' + maThietBi;\r\n    return this.httpClient.get(url);\r\n  }\r\n}\r\n","import { LichSuDatChoModel } from './lich-su-dat-cho.model'\r\nimport { formatDate } from '@angular/common'\r\n\r\nexport class LichSuMuonThietBiModel {\r\n  Ma: string\r\n  MaThietBi: string\r\n  TenThietBi: string\r\n  MaSV: string\r\n  HoTenSV: string\r\n  EmailSV: string\r\n  SoDienThoaiSV: string\r\n  NgaySinhSV: string\r\n  HoTenGV: string\r\n  EmailGV: string\r\n  TenNoiQuanLy: string\r\n  NgayBatDau: string\r\n  NgayKetThuc: string\r\n  NgayBatDauDate: Date\r\n  NgayKetThucDate: Date\r\n  GhiChu: string\r\n  IsHoanTat: boolean\r\n  IDThietBi: string\r\n  IDThietBiChiTiet: string\r\n  MaThietBiChiTiet: string\r\n  NgayTra: string\r\n  NgayTraDate: Date\r\n  TenNguoiHoanTat: string\r\n  \r\n}\r\nexport class MuonThietBiReqModel{\r\n  Ma: string\r\n  MaDatCho: string\r\n  MaThietBiChiTiet: string\r\n  NgayBatDau: string\r\n  NgayKetThuc: string\r\n  NgayBatDauYeuCau: string\r\n  NgayKetThucYeuCau: string\r\n  MaTinhTrang: string\r\n  GhiChu: string\r\n\r\n\r\n  constructor(yeuCau: LichSuDatChoModel){\r\n    this.Ma = ''\r\n    this.MaDatCho = yeuCau.MaDatCho\r\n    this.MaThietBiChiTiet = yeuCau.MaThietBiChiTiet\r\n    this.NgayBatDau = ''\r\n    this.NgayKetThuc = ''\r\n    this.NgayBatDauYeuCau = yeuCau.NgayBatDau\r\n    this.NgayKetThucYeuCau = yeuCau.NgayKetThuc\r\n    this.MaTinhTrang = ''\r\n    this.GhiChu = ''\r\n  }\r\n}"],"sourceRoot":"webpack:///"}